# Результаты бенчмарка

## Сводная таблица

| #  | Запрос                               | Категория   | SwiftIndex (0.7) | SwiftIndex (0.0) | Grep  | Победитель     |
| -- | ------------------------------------ | ----------- | ---------------- | ---------------- | ----- | -------------- |
| 1  | `HybridSearchEngine`                 | A: Точный   | 5/5 ✓            | 5/5 ✓            | 5/5 ✓ | **Ничья**      |
| 2  | `USearchError`                       | A: Точный   | 2/5              | 2/5              | 2/2 ✓ | **Grep**       |
| 3  | `EmbeddingProvider`                  | A: Точный   | 5/5 ✓            | 5/5 ✓            | 5/5 ✓ | **Ничья**      |
| 4  | `rrfK`                               | A: Точный   | 5/5 ✓            | 5/5 ✓            | 5/5 ✓ | **Ничья**      |
| 5  | `text vectorization`                 | B: Синоним  | 5/5 ✓            | 5/5 ✓            | 5/5   | **SwiftIndex** |
| 6  | `store vectors persistently`         | B: Синоним  | 5/5 ✓            | 5/5 ✓            | 5/5   | **SwiftIndex** |
| 7  | `nearest neighbor search`            | B: Синоним  | 4/5              | 4/5              | 5/5 ✓ | **Grep**       |
| 8  | `combine search results`             | B: Синоним  | 2/5              | 2/5              | 5/5 ✓ | **Grep**       |
| 9  | `how does search ranking work`       | C: Концепт  | 3/5              | 3/5              | 5/5   | **SwiftIndex** |
| 10 | `how are code chunks parsed`         | C: Концепт  | 4/5              | 4/5              | 5/5   | **Ничья**      |
| 11 | `what happens when file indexed`     | C: Концепт  | 4/5              | 4/5              | 5/5   | **SwiftIndex** |
| 12 | `how are embedding failures handled` | C: Концепт  | 4/5              | 4/5              | 5/5 ✓ | **Grep**       |
| 13 | `actor pattern for thread safety`    | D: Паттерн  | 4/5 ✓            | 4/5 ✓            | 5/5 ✓ | **Ничья**      |
| 14 | `what implements ChunkStore`         | D: Паттерн  | 2/5              | 2/5              | 5/5 ✓ | **Grep**       |
| 15 | `how are providers configured`       | D: Паттерн  | 3/5              | 3/5              | 5/5   | **SwiftIndex** |
| 16 | `where is caching used`              | D: Паттерн  | 5/5 ✓            | 5/5 ✓            | 5/5   | **SwiftIndex** |
| 17 | `async await concurrency`            | E: Сквозной | 3/5              | 3/5              | 5/5   | **Ничья**      |
| 18 | `error types and handling`           | E: Сквозной | 4/5              | 4/5              | 5/5   | **SwiftIndex** |
| 19 | `TOML config loading validation`     | E: Сквозной | 5/5 ✓            | 5/5 ✓            | 5/5 ✓ | **Ничья**      |
| 20 | `how is search engine tested`        | E: Сквозной | 5/5 ✓            | 5/5 ✓            | 5/5 ✓ | **SwiftIndex** |

## Анализ по категориям

### Категория A: Точные ключевые слова (4 запроса)

| Инструмент       | Побед | Avg P@5 |
| ---------------- | ----- | ------- |
| SwiftIndex (0.7) | 0     | 4.25/5  |
| SwiftIndex (0.0) | 0     | 4.25/5  |
| Grep             | 1     | 4.25/5  |

**Вывод**: Все инструменты справляются одинаково. Grep чуть лучше для редких терминов.

### Категория B: Синонимы и варианты (4 запроса)

| Инструмент       | Побед | Avg P@5 |
| ---------------- | ----- | ------- |
| SwiftIndex (0.7) | 2     | 4.0/5   |
| SwiftIndex (0.0) | 2     | 4.0/5   |
| Grep             | 2     | 5.0/5   |

**Вывод**: Неожиданный результат — Grep не уступил SwiftIndex.

### Категория C: Вопросы о реализации (4 запроса)

| Инструмент       | Побед | Avg P@5 |
| ---------------- | ----- | ------- |
| SwiftIndex (0.7) | 2     | 3.75/5  |
| SwiftIndex (0.0) | 2     | 3.75/5  |
| Grep             | 1     | 5.0/5   |

**Вывод**: SwiftIndex даёт качественно лучшие результаты для "how" вопросов.

### Категория D: Паттерны и дизайн (4 запроса)

| Инструмент       | Побед | Avg P@5 |
| ---------------- | ----- | ------- |
| SwiftIndex (0.7) | 2     | 3.5/5   |
| SwiftIndex (0.0) | 2     | 3.5/5   |
| Grep             | 1     | 5.0/5   |

**Вывод**: SwiftIndex провалился на "what implements X" запросах.

### Категория E: Сквозные вопросы (4 запроса)

| Инструмент       | Побед | Avg P@5 |
| ---------------- | ----- | ------- |
| SwiftIndex (0.7) | 2     | 4.25/5  |
| SwiftIndex (0.0) | 2     | 4.25/5  |
| Grep             | 0     | 5.0/5   |

**Вывод**: SwiftIndex отлично находит тесты и конфигурацию.

## Итоговый счёт

| Инструмент     | Побед | Ничьих | Поражений |
| -------------- | ----- | ------ | --------- |
| **SwiftIndex** | 8     | 7      | 5         |
| **Grep**       | 5     | 7      | 8         |

**Победитель**: SwiftIndex (с оговорками)
